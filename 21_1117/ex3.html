<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1,2,3team jason</title>
</head>
<body>

<div>
    <button onclick="loadData('http://localhost:5555/webstrom11/1team.json')">1팀</button>
    <button onclick="loadData('http://localhost:5555/webstrom11/2team.json')">2팀</button>
    <button onclick="loadData('http://localhost:5555/webstrom11/3team.json')">3팀</button>
    <ul class="storeList">

    </ul>
</div>
<script>
    function loadData(serverInfo){
        console.log("loadData : " + serverInfo)

        fetch(serverInfo)
            .then(response => response.json())
            .then( data => {
                // console.log(data)
                makeList(data)
            })
    }
    function makeList(arr) {
        let str = ''
        const ulEle = document.querySelector(".storeList")
        for (let i = 0; i <arr.length; i++) {
            console.log(arr[i])
            str += `<li data-name="${arr[i].name}", data-lat="${arr[i].lat}" data-lng="${arr[i].lng}">${arr[i].name}</li>`
        }//end for
        ulEle.innerHTML = str
    }
    document.querySelector(".storeList").addEventListener("click", (e) => {
        e.stopPropagation()
        e.preventDefault()
        const target = e.target
        if(target.tagName !== 'LI'){
            return
        }
        console.log(target)
        const name = target.getAttribute("data-name")
        const lat = target.getAttribute("data-lat")
        const lng = target.getAttribute("data-lng")
        console.log(name, lat, lng)
    },false)
</script>




</body>
</html>